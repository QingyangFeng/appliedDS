import gensim
import numpy as np
from nltk.tokenize import word_tokenize


profile_names = np.array([
                "realDonaldTrump",
                "BarackObama",
                "karpathy",
                "AndrewYNg",
                "BillGates",
                "NASA",
                ])
                # "National Geographic"
                # "Musk"
                
# Note that all tweets are represented as one long string
# Note that raw_profile_tweets[0] belong to user profile_names[0] etc..
raw_profile_tweets=["As a matter of National Security I've signed the Omnibus Spending Bill. I say to Congress: I will NEVER sign another bill like this again. To prevent this omnibus situation from ever happening again, I'm calling on Congress to give me a line-item veto for all govt spending bills! Obama Administration legalized bump stocks. BAD IDEA. As I promised, today the Department of Justice will issue the rule banning BUMP STOCKS with a mandated comment period. We will BAN all devices that turn legal weapons into illegal machine guns. News conference at the White House concerning the Omnibus Spending Bill.  1:00 P.M. I am considering a VETO of the Omnibus Spending Bill based on the fact that the 800,000 plus DACA recipients have been totally abandoned by the Democrats (not even mentioned in Bill) and the BORDER WALL, which is desperately needed for our National Defense, is not fully funded. DACA was abandoned by the Democrats. Very unfair to them! Would have been tied to desperately needed Wall. House Intelligence Committee votes to release final report. FINDINGS: (1) No evidence provided of Collusion between Trump Campaign & Russia. (2)  The Obama Administrations Post election response was insufficient. (3) Clapper provided inconsistent testimony on media contacts. I am pleased to announce that, effective 4/9/18, @AmbJohnBolton will be my new National Security Advisor. I am very thankful for the service of General H.R. McMaster who has done an outstanding job & will always remain my friend. There will be an official contact handover on 4/9. My honor Charlie - thank you! #MAGA As a candidate, I pledged that if elected I would use every lawful tool to combat unfair trade, protect American workers, and defend our national security.  Today, we took another critical step to fulfill that commitment. http://45.wh.gov/Section301 Greetings from @WhiteHouseRemember when they were saying, during the campaign, that Donald Trump is giving great speeches and drawing big crowds, but he is spending much less money and not using social media as well as Crooked Hillary's large and highly sophisticated staff. Well, not saying that anymore! Crazy Joe Biden is trying to act like a tough guy. Actually, he is weak, both mentally and physically, and yet he threatens me, for the second time, with physical assault. He doesn't know me, but he would go down fast and hard, crying all the way. Don't threaten people Joe! Democrats refused to take care of DACA. Would have been so easy, but they just didn't care. I had to fight for Military and start of Wall. Got $1.6 Billion to start Wall on Southern Border, rest will be forthcoming. Most importantly, got $700 Billion to rebuild our Military, $716 Billion next year...most ever. Had to waste money on Dem giveaways in order to take care of military pay increase and new equipment. They can help solve problems with North Korea, Syria, Ukraine, ISIS, Iran and even the coming Arms Race. Bush tried to get along, but didn't have the \"smarts.\" Obama and Clinton tried, but didn't have the energy or chemistry (remember RESET). PEACE THROUGH STRENGTH! I called President Putin of Russia to congratulate him on his election victory (in past, Obama called him also). The Fake News Media is crazed because they wanted me to excoriate him. They are wrong! Getting along with Russia (and others) is a good thing, not a bad thing....... \"Special Council is told to find crimes, whether a crime exists or not. I was opposed to the selection of Mueller to be Special Council. I am still opposed to it. I think President Trump was right when he said there never should have been a Special Council appointed because..... ...there was no probable cause for believing that there was any crime, collusion or otherwise, or obstruction of justice!\"  So stated by Harvard Law Professor Alan Dershowitz. Department of Justice should have urged the Supreme Court to at least hear the Drivers License case on illegal immigrants in Arizona. I agree with @LouDobbs. Should have sought review. AUSTIN BOMBING SUSPECT IS DEAD. Great job by law enforcement and all concerned! Our Nation was founded by farmers. Our independence was won by farmers. And our continent was tamed by farmers. Our farmers always lead the way -- we are PROUD of them, and we are DELIVERING for them! #NationalAgricultureDay The Democrats do not want to help DACA. Would be so easy to make a deal! The opioid crisis has created stories of despair of shock, but also stories of recovery & hope. President Trump is asking every Americans to share their story to overcome stigma, & begin to fight against the Crisis Next Door. A total WITCH HUNT with massive conflicts of interest! .@seanhannity on @foxandfriends now! Great! 8:18 A.M. Why does the Mueller team have 13 hardened Democrats, some big Crooked Hillary supporters, and Zero Republicans? Another Dem recently added...does anyone think this is fair? And yet, there is NO COLLUSION!",
                    "Our most important task as a nation is to make sure all our young people can achieve their dreams. We've started this work with @MBK_Alliance, but there's so much more all of us have to do-government, private sector, academia & community leaders-to change the odds for our kids. In Singapore with young people who are advocating for education, empowering young women, and getting involved all over Southeast Asia with a profoundly optimistic commitment to building the world they want to see.41: I like the competition. And the loyalty to the home team. - 44 Congrats to @LoyolaChicago and Sister Jean for a last-second upset - I had faith in my pick! Just because I have more time to watch games doesn't mean my picks will be better, but here are my brackets this year: https://go.obama.org/2018bracket  Have fun out there among the stars. Four years ago, @MichelleObama and I had the privilege to host Lt. Cmdr. Dan Cnossen and his fellow Paralympians and Olympians at the White House. Today, we're so proud of him for winning gold and silver - while still representing the red, white, and blue. I got my start holding community meetings in Chicago, so it was fun to be home for one tonight. Michelle and I want the world to come together on the South Side at a place built with local ideas, values, and hopes. That's the @ObamaFoundation and Presidential Center. Young people have helped lead all our great movements. How inspiring to see it again in so many smart, fearless students standing up for their right to be safe; marching and organizing to remake the world as it should be. We've been waiting for you. And we've got your backs. Billy Graham was a humble servant who prayed for so many - and who, with wisdom and grace, gave hope and guidance to generations of Americans. We are grieving with Parkland. But we are not powerless. Caring for our kids is our first job. And until we can honestly say that we're doing enough to keep them safe from harm, including long overdue, common-sense gun safety laws that most Americans want, then we have to change. Happy Valentine's Day, @MichelleObama. You make every day and every place better. Happy #ValentinesDay to my one and only, @BarackObama. To celebrate the occasion, I'm dedicating a little Valentine's Day playlist to you! love Dr. King was 26 when the Montgomery bus boycott began. He started small, rallying others who believed their efforts mattered, pressing on through challenges and doubts to change our world for the better. A permanent inspiration for the rest of us to keep pushing towards justice. All across America people chose to get involved, get engaged and stand up. Each of us can make a difference, and all of us ought to try. So go keep changing the world in 2018. Ten-year-old Jahkil Jackson is on a mission to help homeless people in Chicago. He created kits full of socks, toiletries, and food for those in need. Just this week, Jahkil reached his goal to give away 5,000 \"blessing bags.\" That's a story from 2017. Chris Long gave his paychecks from the first six games of the NFL season to fund scholarships in Charlottesville, VA. He wanted to do more, so he decided to give away an entire season's salary. That's a story from 2017. Kat Creech, a wedding planner in Houston, turned a postponed wedding into a volunteer opportunity for Hurricane Harvey victims. Thirty wedding guests became an organization of hundreds of volunteers. That's a story from 2017. As we count down to the new year, we get to reflect and prepare for what's ahead. For all the bad news that seemed to dominate our collective consciousness, there are countless stories from this year that remind us what's best about America. On behalf of the Obama family, Merry Christmas! We wish you joy and peace this holiday season.There's no better time than the holiday season to reach out and give back to our communities. Great to hear from young people at the Boys & Girls Club in DC today. Happy Hanukkah, everybody, from the Obama family to yours. Chag Sameach! Just got off a call to thank folks who are working hard to help more Americans across the country sign up for health coverage. But it's up to all of us to help spread the word: Sign up through this Friday at http://HealthCare.gov . Watch: We hosted a Town Hall in New Delhi with @BarackObama and young leaders about how to drive change and make an impact in India and around the world. #ObamaInIndia Michelle and I are delighted to congratulate Prince Harry and Meghan Markle on their engagement. We wish you a lifetime of joy and happiness together.",
                    "t's very rewarding to watch the early feedback on our latest Autopilot update: https://electrek.co/2018/03/16/tesla-autopilot-update-first-drive-videos/ _ a result of a fairly extensive rewrite. Working hard to get more of it polished and out there! If you squint a bit academia is a kind of blockchain. Each paper is a transaction, a block is a conference. The reviewers determine if a block is valid (except with effectively zero \"mining\" reward :\). Paper citations are pointers to the previous block(s). Maybe? no? okay Highly recommend this paper for practitioners of / those with an interest in Evolutionary Computation and Artificial Life. Overview of the many ways that evolution will \"cheat\" and hack its way around your oh-so-clever reward function! https://arxiv.org/abs/1803.03453 Idea for a \"metalearning-chess\" variation: keep the dynamics the same but make the reward function for each game be some (fixed) random function of the game board (e.g. a random linear or a depth 2 regression tree) that the players observe a sample from at end of their turn. I often try to remind myself that it's only ~6 years ago that I was hacking custom architectures with manually written backwards pass in Matlab, running on a single machine on the CPU. It is starting to look like deep learning workflows of the future feature autotuned architectures running with autotuned compute schedules across arbitrary backends. I don't know if I should be excited or scared. I lack a tool to \"lay out\" image/text information visually. Like a word doc but not just linearly downwards, but all around on a large 2D plane, with ability to zoom in/out, etc. Really doubt that we've reached anywhere close to the peak of UI tooling for the brain. (sorry, percentages in original tweet only refer to the last month. looking at the totals so far it's 5.9% of all papers in database mentioned TensorFlow, 5.4% Caffe, 3.2% Theano, 2.3% Keras, 1.6% Torch, 1% PyTorch, 0.5%- for others) (this is using the same code that I used in generating the original figure in my earlier Medium post https://medium.com/@karpathy/a-peek-at-trends-in-machine-learning-ab8a1085a106 _ from Apr7, 2017) Unique mentions of deep learning frameworks in arxiv papers (full text) over time, based on 43K ML papers over last 6 years. So far TF mentioned in 14.3% of all papers, PyTorch 4.7%, Keras 4.0%, Caffe 3.8%, Theano 2.3%, Torch 1.5%, mxnet/chainer/cntk <1%. (cc @fchollet) We conclude that the common association between sequence modeling and recurrent nets should be reconsidered, and convolutional nets should be regarded as a natural starting point for sequence modeling tasks.\" Great to see more work in this direction! https://arxiv.org/abs/1803.01271  Your guide to AI in Q4 2017, straight from penguin London! Check it out below down Google Search trends: Deep Learning vs. Bitcoin. Search traffic is not the best proxy, but I find it interesting that so many of my friends in AI, when asked to guess, guess this relationship consistently waaay off. this is a much more accurate depiction of silicon valley culture than all this bro stuff 4 years of GAN progress (source: https://www.eff.org/files/2018/02/20/malicious_ai_report_final.pdf _ ) miniaturization, decreasing hardware costs and intelligence at the edge. starts to look a bit like the beginning of a synthetic Cambrian explosion \"It is believed by many that electricity fulfills more of the necessary conditions of a successful motive power for motor carriages than any other power. It is clean, compact, noiseless, free from vibration, heat, dirt and gases, and is under perfect control.\" -1900 wisdom :) this find has made my day: \"The Progress of Invention in the Nineteenth Century\", written in 1900. https://www.gutenberg.org/files/41538/41538-h/41538-h.html _ My email app icon badge shows that I have 1 unread email but when I open it I can't see/find it. Hashtag the struggles of modern age :'( speech cloning + few shot image generation = unlimited fake video content of anyone doing anything. deepfakes was just the tip of the iceberg. Blue Pill: A 75MHz 32-Bit Computer for $2! party JupyterLab is Ready for Users party also reminds me of SENets. Information mixes too slowly across space in vanilla CNNs. would normally compensate for with increasing depth, dilated convs etc., this looks like another way. seeing self-attention (a kind of global \"message passing\" operation) popping up in a number of places recently, following \"attention is all you need\" paper (https://arxiv.org/abs/1706.03762 ) for MT. e.g., recently https://arxiv.org/abs/1711.07971 , https://openreview.net/forum?id=r16Vyf-0- _ etc. Tensor Comprehensions: einstein-notation like language transpiles to CUDA, and autotuned via evolutionary search to maximize perf. Know nothing about GPU programming? Still write high-performance deep learning. @PyTorch integration coming in <3 weeks. https://research.fb.com/announcing-tensor-comprehensions/ _",
                    "Want to break into AI? You can learn Deep Learning from new deeplearning.ai courses on Coursera: Kudos to @Google @sundarpichai for working on this. This will help many people find new jobs. Happy 3.14159265358979323846 day! Remember to wish your friends the same and spread the love of irrational mathematical constants! Stephen Hawking once said, \"I'm not afraid of death, but I'm in no hurry to die. I have so much I want to do first.\" RIP Professor Hawking, and may we all strive to live as fully as he did. Just released: Woebot is now available on Android (in addition to iOS). This is worth trying out, and I hope you have fun chatting with him! Get a Masters Degree through Coursera! I'm excited about all the great universities now offering online degrees. It's not just about lower costs, even more important is the convenience+flexibility+global access. My notes from @AndrewYNg excellent deep learning specialization on Coursera  (https://www.deeplearning.ai/ ) Another step forward for chatbots to revolutionize mental health. Congratulations @drwoebot @alisonmdarcy on the $8M raised from the @AI_Fund and @NEA! Hello India! Thank you @nasscom for having me. I'm excited to see the momentum AI has here. From individuals to companies to the government, all the elements are present for rapid growth! Thanks contributors/advisors: @pranavrajpurkar @jeremy_irvin16 @mattlungrenMD @bpatel_mba @MatthewDSun @ShubhangDesai @suvadippaul96 @jesswetstone @nicholasbien @HenrikMarklund @chrislin97 @ErikJones313 @norahborus @tankots42 @allisonjypark @thao_nguyen26 @ayyyhuang @mbereket777 Do you want to learn about AI+Healthcare? Our @Stanford team is releasing a new Medium publication to share exciting work across the field! Check it out: If someone builds a Deep Learning-powered startup, should we call them entrepreneurial or entrepreneural? I find work in AI to be electrifying. Carol is up to something.... The final http://deeplearning.ai  course on Sequence Models is now up on @Coursera! Projects you'll build include Speech trigger word detection, Translation, Emojification, Text generation, ... w/RNN, LSTM, GRU, Word embeddings & Attention. Hope you have fun with it! Announcing the AI Fund! We have raised $175 million, and will start multiple new businesses that use AI to improve human life. We also hope to help many of you enter AI, and do the important work of building an AI-powered society.  Remember my old medium post mentioning working on three projects? You've heard about (i) http://deeplearning.ai  and (ii) http://Landing.AI . Looking forward to announcing the third one tomorrow! https://medium.com/@andrewng/deeplearning-ai-announcing-new-deep-learning-courses-on-coursera-43af0a368116 _ Woebot is now available as an iOS app. I hope you have fun chatting with him!  If you want to ride a horse, you go to a horse ranch. With the rise of self-driving, will there be \"car ranches\" for people that want to drive manually? Fun CNN video on self-driving future, also featuring @driveai_ 's Tao Wang @twangcat007! This is a beautiful summary of an \"AI is the new electricity\" talk. Thank you @TessFerrandez! Two of my favorite companies working together! Super excited about the @Google IT support specialization on @coursera. This'll help many people get new jobs. https://www.coursera.org/specializations/google-it-support _ Touching article by @DrSidMukherjee on end-of-life care, and on work my PhD student @anandavati led on Deep Learning for palliative care. Can DL predict mortality as well as a cat can? @drnigam @DrSteph_H Question for everyone: Can you name a 2017 AI accomplishment (such a technical result, prototype, demo, research paper, or product) that you think is under-appreciated or which you think more people should know about? Enjoyed chatting with @mollywood about Landing.AI helping manufacturing companies adopt AI, plus how AI is changing the type of work people do. @marketplace Want your first AI job? Come intern with me! We're running an internship program that will help people who've completed MOOCs start employment in AI. http://landing.ai/ai-internship  8/Adding to this thread 5 months later. Here's what I think is now great timing for AI: Manufacturing! Demo of Deep Learning for automatic visual inspection, from http://Landing.ai . Excited about how AI will transform industries! Announcing my new company! Landing.ai will help companies transform for the AI era. We're starting with the manufacturing industry. Team holiday party from last night! I feel privileged to work with such a wonderful group on AI. http://deeplearning.ai  Chatting with @triketora about diversity and AI. Important topic for AI researchers as AI's influence on the world continues to grow! Hello Japan! (And before that, Shanghai/Shenzhen/Taipei.) Excited about all the AI transformation opportunities not just in Silicon Valley, but all around the world! Washington Post has an insightful article on the rise of chatbot therapy, discussing @drwoebot and a few other chatbots. @amyellisnutt",
                    "Companies in Nigeria are taking a big step to end stunting and malnutrition. This commitment will build healthier and more prosperous communities. I'm hopeful we can alter the course of Alzheimer's if we invest in research to better understand how the disease unfolds. #ShareTheOrange is a promising new campaign to support Alzheimer's research. @ARUKnews Strong health systems promote strong economic growth. Nigeria's investments in its communities will yield benefits for years to come. #ImagineNigeria Advances in agriculture can have a big impact on the lives of the world's poorest. I'm particularly excited about new research from the @RIPEproject. Superintendent Jorge Aguilar uses data to make a difference in the lives of students in Sacramento. We talked about how his own experiences have played a big role in shaping his approach: http://b-gat.es/2IpD3Si Developing affordable, clean energy for all is one of the smartest public investments our country can make. We need lots of innovation to get there, and @ARPAE is leading the way: http://b-gat.es/2FIZeRM  #ARPAE18 I feel lucky to have known Stephen Hawking. His work is an inspiring reminder of what human minds are capable of. I often meet with educators who have creative ideas about how to make school systems work for every child. Recently, I chatted with Superintendent Jorge Aguilar about how his district is improving outcomes for students. Join us at #sxsw for a conversation about how we can make our workplaces work better for everyone. Watch live at 2 pm CT. http://m-gat.es/2FzgCIo  I can always count on my friend Warren Buffett to give good advice. His latest annual letter to shareholders has great tips for investing your money wisely. Being an optimist doesn't mean you get complacent. It means you constantly look for ways to make the world better. This is a great conversation with @EasterbrookG about his new book, \"It's Better Than It Looks. The evidence is clear: if you want to empower women and girls, give them the power to decide what to do with their own money. #IWD2018 Tomorrow is #IWD2018 - a day when the world celebrates the progress made by and for women. I'm inspired by Ellen Johnson Sirleaf. She was recently awarded the Ibrahim Prize for Achievement in African Leadership. Most people know @rogerfederer as one of the greatest tennis players of all time. But his work off the court is also impressive. If you're a Federer fan, I encourage you to read his recent post about his journey from tennis player to philanthropist. Proud to be on Team Fed. We're ready for you, @SavannahGuthrie and @JackSock: http://b-gat.es/2FreTrT  #MatchForAfrica Everyone benefits when women can fully participate in the economy. The sun is the most plentiful source of renewable energy we have -- and the race is on to harness its power. As @KofiAnnan writes, cutting-edge mapping efforts have helped us understand the burden of health and nutrition disparities within African countries. These maps will enable us to reach the people who need help the most. See you on the court, @SavannahGuthrie! I'm on @reddit right now if you want to ask me anything: http://b-gat.es/reddit  Here are 4 things I won't be doing today_ and one thing I will: http://b-gat.es/reddit  Does the world suck? Not as much as you might think. People today are living longer, healthier, and happier lives than ever before. I asked @sapinker to explain why.  The idea that children shouldn't die of malaria isn't just our value. It's a human value. Parents in every culture want their children to survive and thrive. That's why our foundation partners with thousands of organizations to reach people where they are: http://b-gat.es/2BMumQZ  .@melindagates talks about the experience that opened our eyes to the inequities in the world, and the incredible progress that makes us optimistic about the future. At Microsoft, I got deep into computer science. At the foundation, it's computer science plus biology, chemistry, agronomy, and more. I can't imagine a better way to spend the bulk of my time: http://b-gat.es/2BIQ48s  #TBT Last year, Melinda and I took a trip to Atlanta, Georgia. What we saw reinforced our belief that education is the best way to break the cycle of poverty, and made us think through other ways we could help: http://b-gat.es/2sIIBDJ  lthough there's been some progress over the past decade, America's public schools are still falling short on important metrics. In our Annual Letter, Melinda and I explore how we can meet that challenge: http://b-gat.es/2o7W8jt  Although Melinda and I see a lot of disease and poverty in our travels-and many other big problems that need to be solved-we also see the best of humanity: http://b-gat.es/2CtUZan  As counterintuitive as it may seem, population sizes don't go up as the world gets healthier. They go down: http://b-gat.es/2EwzWts  Melinda and I got a kick out of doing our first autocomplete challenge. We answer more tough questions in our Annual Letter: http://b-gat.es/2nP9CR0 ",
                    "Do they have the flight stuff? Tune in live at 6am ET to watch as student projects that may impact future spaceflight are tested aboard a research rocket launching this morning from @NASA_Wallops: http://go.nasa.gov/2pAfyhE  Along MD & VA's Eastern Shore? Four student projects are launching on a sounding rocket tomorrow at 6:30am ET from @NASA_Wallops. The projects will fly up about 100 miles before descending by parachute, collecting valuable data along the way.  Details: http://go.nasa.gov/2pCB1Gw  A new @Space_Station crew, an app that allows you to bring our robotic @NASASolarSystem explorers closer to home + more! Watch 'This Week @NASA' for a full recap: https://youtu.be/YEmR2PBPvec  The exquisite sharpness of this 2005 image has plucked out an underlying population of infant stars that are still forming. The smallest of these infant stars is only half the mass of our Sun. More about this @NASAHubble image: http://go.nasa.gov/2pAr902 With the arrival of @Astro_Ricky, @Astro_Feustel and @OlegMKS to @Space_Station today, the orbiting lab's population has doubled. Get the details: http://go.nasa.gov/2HVSmkD Three new Earthlings have just opened the hatch to their new home on @Space_Station at 5:48pm ET. Watch as @Astro_Ricky, @Astro_Feustel and @OlegMKS are greeted by their space-faring crew mates: https://www.nasa.gov/live LIVE NOW: Watch as @Astro_Ricky, @Astro_Feustel and @OlegMKS open the hatch connecting their capsule to the @Space_Station and are welcomed to their new home 250 miles above Earth: https://www.nasa.gov/live Welcome to your new home in space! Three crew members docked to @Space_Station at 3:40pm ET. Join us live at 5pm to watch as they open the hatch to their capsule and are welcomed aboard: http://go.nasa.gov/2pyiZW2  Capture confirmed! @Astro_Ricky, @Astro_Feustel and @OlegMKS have arrived at @Space_Station, their new orbiting home, after a 2-day journey from Earth: https://www.nasa.gov/live The Soyuz spacecraft is now flying around the space station as @Astro_Ricky, @Astro_Feustel and @OlegMKS get ready to dock to the Poisk module at 3:41pm ET. https://www.nasa.gov/live Station cameras sight the Soyuz spacecraft heading to its docking port carrying @Astro_Ricky, @Astro_Feustel and @OlegMKS to their new home in space. https://www.nasa.gov/live LIVE NOW: Watch as @Astro_Ricky, @Astro_Feustel and @OlegMKS complete their two-day journey to the @Space_Station and dock to their new orbiting home. Tune in for live views from space: https://www.nasa.gov/live The three crew members who launched into space on Wednesday have almost completed their two-day journey to the @Space_Station. Tune in live at 3pm ET to watch as they dock to their orbiting home: https://www.nasa.gov/live Happy #FunFactFriday! Can you guess how long it takes for astronauts to reach outer space while traveling in a Soyuz rocket?What's happening on @Space_Station this week? @Astro_Ricky, @Astro_Feustel & @OlegMKS are set to arrive to the station today. We also answer the Q: Can astronauts' movement on the space station affect its orbit? Watch to find out: https://youtu.be/9Yl1ryoDwWA  Q? Use #SpaceToGroundLIVE NOW: Join experts from @NASAEarth and @WMO to celebrate #WorldMetDay! We're talking about weather, clouds and citizen science. Tune in live and ask your questions: https://www.facebook.com/nasaearth/videos/10156418942207139/ _Are you weather ready and climate smart? It's World Meteorological Day and we'll be on @Facebook Live at 10:30am EST talking weather, clouds and citizen science. Join the celebration and ask us your questions live during the broadcast: https://www.facebook.com/nasaearth/  #WorldMetDay   Tomorrow, the three humans that launched from Earth on Wednesday will arrive at their new home on orbit. Tune in to watch as they dock to the @Space_Station! Coverage begins at 3pm ET. Details: http://go.nasa.gov/2HVWrFw A Mystery at the Milky Way male cat A cosmic tug-of-war is unfolding between two dwarf galaxies but which one is doing the pulling, and who's being pulled? Discover how, using @NASAHubble data, scientists were able to unravel this \"whodunit\" mystery: http://go.nasa.gov/2ubTFtJ On Earth, plants use gravity & light to orient their roots, but in space what drives their direction? @ISS_Research aboard @Space_Station gets to the root of this riddle by studying plants' ability to detect gravity & adapt to an environment without it: http://go.nasa.gov/2HWTu7x Deadly landslides can happen in a matter of minutes but factors that cause landslides can be detected ahead of time from space. Using satellites our scientists have developed a new model to estimate where & when landslides may strike in real-time: http://go.nasa.gov/2px0zoI Earth is a water planet: three-quarters of the surface is covered by water, and water-rich clouds fill the sky. https://go.nasa.gov/2r67DeM  #worldwaterdayOnce big enough to swallow three Earths with room to spare, Jupiter's Great Red Spot has been shrinking for a century and a half. Discover how a team of our scientists uncovered evidence that this massive storm is growing taller as it gets smaller: https://nasa.tumblr.com/post/172136024714/jupiters-great-red-spot-getting-taller-as-it _ Get the hottest ticket of the summer: Send your name to touch Sun with @NASASun's Parker #SolarProbe spacecraft! Launching this summer, join us on humanity's 1st mission to \"touch\" a star! Details on adding your name to the microchip: https://go.nasa.gov/HotTicket ",
                ]
# print("Profiles considered for recommendation: ",len(raw_profile_tweets))

# for each profile, for each tweet, tokenize and cast to lower case
gen_docs = [[w.lower() for w in word_tokenize(text)] for text in raw_profile_tweets]
# print(gen_docs)


# build dictionary
dictionary = gensim.corpora.Dictionary(gen_docs)
# print("Number of words in dictionary:",len(dictionary))
# for i in range(len(dictionary)):
#     print(i, dictionary[i])

# build corpus, that is bag of words representation
corpus = [dictionary.doc2bow(gen_doc) for gen_doc in gen_docs]
# print(corpus)


tf_idf = gensim.models.TfidfModel(corpus)
# print(tf_idf)
# s = 0
# for i in corpus:
#     s += len(i)
# print(s)


sims = gensim.similarities.Similarity('./',tf_idf[corpus],
                                      num_features=len(dictionary))
# print(sims)
# print(type(sims))


def get_most_similar_bag_of_words_based(string):
    query_doc = [w.lower() for w in word_tokenize(string)]
    # print(query_doc)
    query_doc_bow = dictionary.doc2bow(query_doc)
    # print(query_doc_bow)
    query_doc_tf_idf = tf_idf[query_doc_bow]
    # print(query_doc_tf_idf)

    # print("similarity is: ", sum(sims[query_doc_tf_idf]), sims[query_doc_tf_idf])
    most_simmilar_index = np.argmax(sims[query_doc_tf_idf])
    if sum(sims[query_doc_tf_idf]) == 0:
        return None # all irrelevant

    # we negate array, so that lowest variables become highest, this is for sorting order later..
    similarities = -np.array(sims[query_doc_tf_idf])

    # np arrays are not json serialisable so we cast to a list
    return list(profile_names[similarities.argsort()]) 


# get_most_similar_bag_of_words_based("Number of words in dictionary:")
# get_most_similar_bag_of_words_based("I'm taking the show on the road.")
# get_most_similar_bag_of_words_based("I am legend is the best movie ever until you grow up")
# get_most_similar_bag_of_words_based("This should be irrelevant sentance blablabla    ")
